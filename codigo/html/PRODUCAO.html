<!DOCTYPE html>
<html lang="Pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="../assets/css/stylePRODUCAO.css">
  <link rel="shortcut icon" href="../assets/img/logo.png" type="image/x-icon">
  <title>Produção - DataStock</title>
</head>

<body>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
    
  <style>
    body {
      font-family: Arial, sans-serif;
    }

    .chart {
      width: 800px;
      max-width: 100%;
      height: auto;
      margin: 20px auto;
      position: relative;
    }



    .line {
      fill: none;
      stroke: #007bff;
      stroke-width: 2;
    }

    .dot {
      fill: #007bff;
      stroke: #fff;
      stroke-width: 2;
    }

    .tooltip:hover {
      position: absolute;
      background: rgba(3, 3, 251, 0.7);
      color: #fff;
      padding: 5px;
      border-radius: 5px;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.3s;
      margin: top auto;
    }

    .tooltip.active {
      padding: 10px;
      opacity: 2;
      background: rgba(3, 3, 251, 0.7);
      color: white;
      border-radius: 10px;

    }

    .opcao {
      display: inline-block;
      border-left: none;
      border-right: none;
      padding: 5px;
      border-style: solid;
      border-width: 0 0 5px 0;
      border-image: linear-gradient(to left, blue, #0d6dfdb7 50%) 10 10;
    }
  </style>
  <!-- cabeçalho -->
  <header>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand" href="../html/telaempres.html">
          <img src="../assets/img/logo.png" alt="DataStock" width="70" height="50">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
          aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>

      <div class="collapse navbar-collapse m-2" id="navbarNavAltMarkup">
        <div class="navbar-nav">
          <a class="nav-link active" aria-current="page" href="#">Inicio</a>
          <a class="nav-link" aria-current="page" href="#">Configuração</a>
        </div>
      </div>
    </nav>
  </header>
  <!-- Fim cabeçalho -->
  <main>
    <!-- Inicio logo cliente -->
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-12 d-flex justify-content-center mb-3 mt-3" id="logocliente">
          <!-- <div id="logocliente"
            style="width: 100px; height: 100px; background-color: black; background-image: url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQZcmPBsVjXbWFmp12w0eGNXpQP4gnFvClKkLhUMbqKig&s); background-position: center; background-repeat: no-repeat; background-size: cover;">
          </div> -->
        </div>
      </div>
    </div>
    <!-- Fim logo Cliente -->
    <!-- Inicio Opções -->
    <div class="container w-75">
      <hr>
      <h1 class="opcao">Opções</h1>
      <div class="row mt-4 mb-4 d-flex justify-content-center flex-wrap">
        <button type="button" id="btn_prod" class="btn btn-outline-primary col-lg-2 col-5 col-md-3 mb-2 ms-2"><img
            src="../assets/img/add.png" alt="" style="width:30px;"><strong>Iniciar Produção</strong></button>

        <button type="button" id="btn_novo" class="btn btn-outline-primary col-lg-2 col-5 col-md-3 mb-2 ms-2"><img
            src="../assets/img/rascunho.png" alt="" style="width:30px;"><strong>Novo Produto</strong></button>

        <button type="button" id="btn_ex" class="btn btn-outline-primary col-lg-2 col-5 col-md-2 mb-2 ms-2"><img
            src="../assets/img/x.png" alt="" style="width:30px;"><strong>Excluir</strong></button>
      </div>
      <div class="row">
        <div class="card border-primary p-2">

          <div class="m-2 lineinput" >
            <label>Código</label>
            <input type="text" id="cod1" placeholder="Código do produto">
          </div>
      
          <div class="m-2 lineinput">
            <label>Descrição</label>
            <input type="text" id="descprod1" placeholder="Descrição do produto">
            <!--Será buscada automaticamente caso exista o Código cadastrado-->
          </div>
      
          <div class=" m-2 lineinput">
            <label>Lote</label>
            <input type="text" id="loteprod1" placeholder="Novo número de lote">
            <!--Será buscado automaticamente sendo o próximo na sequencia de lotes do determinado produto-->
          </div>
      
          <div class="m-2 lineinput">
            <label>Quantidade</label>
            <input type="text" id="qtdprod1" placeholder="Quantidade a ser produzida">
          </div>
      
          <div class=" m-2 lineinput">
            <label>Validade</label>
            <input type="text" id="validprod1" placeholder="Validade para este lote">
          </div>
      
          <button onclick="produtosalvar()" class="p-2 mb-2 mt-2 ms-2 bg-primary routend text-white">Salvar alterações</button>
          <button onclick="produtocancelar()" class="p-2 mb-2 mt-2 bg-primary routend text-white">Cancelar</button>
      
        </div>
    
        <div class="card2">
    
          <div class="m-2 lineinput">
            <label>Novo código</label>
            <input type="text" id="cod2" placeholder="Código do produto">
          </div>
      
          <div class="m-2 lineinput">
            <label>Nova descrição</label>
            <input type="text" id="descprod2" placeholder="Descrição do produto">
          </div>
      
          <div class="m-2 lineinput">
            <label>Lote</label>
            <input type="text" id="loteprod2" placeholder="Novo número de lote">
            <!--Será buscado automaticamente sendo o próximo na sequencia de lotes do determinado produto,  neste caso, iniciará com 001-->
          </div>
      
          <div class="m-2 lineinput">
            <label>Matérias primas utilizadas</label>
            <input type="text" id="mp2" placeholder="Código das matérias primas utilizadas">
          </div>
      
          <div class="m-2 lineinput">
            <label>NCM (opcional)</label>
            <input type="text" id="ncm2" placeholder="NCM do produto (opcional)">
          </div>
    
          <div class="m-2 lineinput">
            <label>Unidade</label>
            <input type="text" id="un2" placeholder="Unidade do produto">
          </div>
      
          <p>Observação: Futuramente os campos acima serão substituídos pelos campos do módulo "cadastro de produtos", tendo em vista que o resultado será armazenado na mesma estrutura através do JSON</p>
    
          <button onclick="produtosalvarnovoprod()">Salvar alterações</button>
          <button onclick="produtocancelar2()">Cancelar</button>
      
        </div>
    
        <div class="card3">
    
          <div class="m-2 lineinput">
            <label>Código</label>
            <input type="text" id="cod3" placeholder="Código do produto">
          </div>
      
          <div class="m-2 lineinput">
            <label>Lote</label>
            <input type="text" id="loteprod3" placeholder="Lote a ser excluído">
          </div>
      
              
          <button onclick="produtoexcluir()">Excluir</button>
          <button onclick="produtocancelar3()">Cancelar</button>
      
        </div>
      </div>
    </div>
    <!-- Fim Opções -->

    

    <!-- Inicio tabela -->

    <div class="container mt-3" id="PRODUCAO">

      <div class="card border-primary">
        <div class="card-body border-primary">
          <h5 class="opcao card-title"><img src="../assets/img/clock.png" alt=""
              style="width: 30px; margin-right: 10px;" id="PRODUC01">Lotes fabricados</h5>
          <div class="table-responsive">
            <table class="table table-bordered border-primary">
              <thead>
                <tr>
                  <th class="bg-primary border-white text-white" scope="col">Código</th>
                  <th class="bg-primary border-white text-white" scope="col">Descrição</th>
                  <th class="bg-primary border-white text-white" scope="col">Lote</th>
                  <th class="bg-primary border-white text-white" scope="col">Qtd. Lote</th>
                  <th class="bg-primary border-white text-white" scope="col">Validade Lote</th>
                </tr>
              </thead>

              <tbody id="tabela-corpo">
                <!--será utilizado id = "tbody" para preencher pelo JSON-->

              </tbody>
            </table>
            <span class="ms-2">*A ordenação da tabela é feita de acordo com o código do produto.</span>
            <nav aria-label="..." class="d-flex justify-content-center">
              <ul class="pagination pagination-lg ">
                <li class="page-item " id="btnGerarLinhas"><a class="page-link bg-primary text-white"
                    href="#PRODUCAO">Mais dados</a></li>
              </ul>
            </nav>
          </div>
        </div>
      </div>


    </div>

    <script>
      arrayDados = [
        { codigo: "10001", descricao: "Produto A", lote: "50001", qtd_lote: "15", valid_lote: "2023-03-15" },
        { codigo: "10002", descricao: "Produto B", lote: "50001", qtd_lote: "10", valid_lote: "2023-03-15" },
        { codigo: "10003", descricao: "Produto C", lote: "50001", qtd_lote: "15", valid_lote: "2023-03-15" },
        { codigo: "10004", descricao: "Produto D", lote: "50001", qtd_lote: "10", valid_lote: "2023-03-15" },
        { codigo: "10005", descricao: "Produto E", lote: "50001", qtd_lote: "15", valid_lote: "2023-03-15" },
        { codigo: "10014", descricao: "Produto N", lote: "50001", qtd_lote: "10", valid_lote: "2023-03-15" },
      ];

      var mais = 0;
                  
      


      function preencherTabela() {
        const tabelaCorpo = document.getElementById("tabela-corpo");
        const tabelaCorpo2 = document.ge("producaoinfo");

        arrayDados.sort((a, b) => a.codigo.localeCompare(b.codigo));

        // Preenche a tabela até um máximo de 10 linhas
        arrayDados.slice(mais, mais + 10).forEach((item) => { // vai passar por cada objeto da tabela
          const newRow = tabelaCorpo.insertRow(); // new row vai receber o obejto

          newRow.innerHTML = `     
            <td>${item.codigo}</td>
            <td>${item.descricao}</td>
            <td>${item.lote}</td>
            <td>${item.qtd_lote}</td>
            <td>${item.valid_lote}</td>
        `;
        });

        mais += 10;
      }

      window.onload = preencherTabela;

      const btnGerarLinhas = document.getElementById("btnGerarLinhas");
      btnGerarLinhas.addEventListener("click", function (event) {
        event.preventDefault();
        preencherTabela();
      });

    </script>
    </div>
    </div>


  </main>

  <script src="../assets/javascript/Json/PRODUCAO.js"></script>
  <script> var carregar = localStorage.getItem("producaoinfo") 
  </script>

</body>

</html>